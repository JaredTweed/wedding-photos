<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shared Lens</title>
  <meta name="theme-color" content="#000000" />
  <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>

  <!-- Type: elegant serif for wordmark + clean sans for body -->
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Poppins:wght@400;600&display=swap"
    rel="stylesheet">

  <style>
    :root {
      --ink: #111;
      /* near-black */
      --paper: #f6f6f6;
      /* off-white background */
    }

    * {
      box-sizing: border-box;
    }
     
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: calc(100svh - 32px);
      padding: 0;

    }

    .card {
      width: 100%;
      max-width: 720px;
      background: #fff;
      border: 1.5px solid #000;
      border-radius: 18px;
      box-shadow: 0 10px 0 #000;
      padding: 2rem clamp(1.25rem, 3vw, 2.5rem);
      text-align: center;
      margin: 8px 8px 16px;
    }

    /* Brand lockup */
    .brand {
      display: grid;
      grid-template-columns: 100%;
      justify-items: center;
      gap: .75rem;
      margin-bottom: 1rem;
    }

    .logo-mark {
      width: 120px;
      height: 120px;
      object-fit: contain;
      /* Replace src below with your real logo path (PNG/SVG) */
      /* Example: src="/assets/shared-lens-logo.svg" */
    }

    .wordmark {
      margin: 0;
      font-family: 'Cormorant Garamond', serif;
      font-weight: 700;
      letter-spacing: 0.18em;
      font-size: clamp(1.6rem, 5.2vw, 2.2rem);
      text-transform: uppercase;
    }

    .subtitle {
      margin: .25rem 0 0 0;
      font-size: .95rem;
      color: #444;
      font-style: italic;
    }

    /* Content text */
    p {
      margin: .75rem auto;
      max-width: 46ch;
      line-height: 1.6;
    }

    a {
      color: inherit;
      text-underline-offset: 3px;
    }

    /* Divider (hairline) */
    .rule {
      border: none;
      height: 1px;
      background: #000;
      margin: 1rem auto 1.25rem;
      width: min(520px, 80%);
      opacity: 0.15;
    }

    /* Buttons: monochrome + subtle motion */
    .button-group {
      display: grid;
      gap: .75rem;
      margin: 1rem auto 1.25rem;
      justify-items: center;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .6rem;
      padding: .85rem 1.4rem;
      font-size: 1rem;
      font-weight: 600;
      border-radius: 999px;
      border: 2px solid #000;
      cursor: pointer;
      text-decoration: none;
      transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease;
      will-change: transform;
    }

    .btn-fill {
      background: #000;
      color: #fff;
      box-shadow: 0 6px 0 #000;
    }

    .btn-fill:hover {
      transform: translateY(-2px);
    }

    .btn-fill:active {
      transform: translateY(0);
      box-shadow: 0 2px 0 #000;
    }

    .btn-outline {
      background: #fff;
      color: #000;
      box-shadow: 0 6px 0 #000000;
    }

    .btn-outline:hover {
      background: #111;
      color: #fff;
      transform: translateY(-2px);
    }

    .btn-outline:active {
      transform: translateY(0);
    }

    .google-icon {
      height: 20px;
      width: 20px;
      object-fit: contain;
      filter: grayscale(100%);
      /* keep the page truly monochrome */
    }

    /* Small print */
    .notice {
      font-size: .85rem;
      color: #555;
      opacity: .9;
    }
  </style>
</head>

<body>
  <main class="card">
    <!-- --- PLACE YOUR LOGO FILE HERE --- -->
    <!-- Replace the src with your actual logo path (PNG or SVG). -->
    <div class="brand">
      <img class="logo-mark" src="/assets/shared-lens-logo.png" alt="Shared Lens logo">
      <h1 class="wordmark">Shared Lens</h1>
      <p class="subtitle">Different perspectives, one story.</p>
    </div>

    <hr class="rule" />

    <p>
      by <a href="https://github.com/JaredTweed" target="_blank" rel="noopener noreferrer">Jared Tweed</a>
    </p>

    <p>
      Shared Lens is a collaborative platform where wedding guests can share and manage photos, and enjoy others’
      contributions —
      all without logging in.
    </p>

    <div class="button-group">
      <button class="btn btn-fill" onclick="viewDemo()">View Demo</button>

      <button class="btn btn-outline" onclick="signInWithGoogle()">
        <img class="google-icon" src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="">
        Sign in with Google to Create Your Own
      </button>
    </div>

    <p class="notice">
      WARNING: This website is not yet for commercial use — it is a personal project.
    </p>
  </main>

  <script>
    // Navigation
    function viewDemo() {
      // go to slug route (not an html file)
      window.location.href = "wedding-photos";
    }

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyAOcPjy9OsoWDuykf0XuvKfB9sAxSRvC7A",
      authDomain: "sharedlens.ca",
      projectId: "wedding-login-32785",
      storageBucket: "wedding-login-32785.firebasestorage.app",
      messagingSenderId: "554454604780",
      appId: "1:554454604780:web:d7dfe10583f26d13cc7ec9",
      measurementId: "G-J9BEKPXHYF"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // If we came back from a redirect and got a user, continue to form
    auth.getRedirectResult()
      .then(res => { if (res.user) window.location.href = 'form.html'; })
      .catch(e => alert('Sign-in failed: ' + (e.message || e)));

    async function signInWithGoogle() {
      // If already signed in, just continue
      if (auth.currentUser) {
        window.location.href = 'form.html';
        return;
      }

      const provider = new firebase.auth.GoogleAuthProvider();
      // Force account chooser even if a previous Google session exists
      provider.setCustomParameters({ prompt: 'select_account' });

      const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
      try {
        if (isMobile) {
          await auth.signInWithRedirect(provider);
          return; // page will redirect away
        }
        await auth.signInWithPopup(provider);
        window.location.href = 'form.html';
      } catch (e) {
        if (e.code === 'auth/popup-blocked' || e.code === 'auth/cancelled-popup-request') {
          await auth.signInWithRedirect(provider);
        } else {
          alert('Sign-in failed: ' + (e.message || e));
        }
      }
    }
  </script>
</body>

</html>